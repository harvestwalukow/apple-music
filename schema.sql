-- CREATE TABLE
CREATE TABLE users (
    id INTEGER PRIMARY KEY,
    username TEXT NOT NULL,
    passwords TEXT NOT NULL
);

CREATE TABLE artists (
    id INTEGER PRIMARY KEY,
    first_name TEXT NOT NULL,
    last_name TEXT,
    nationality TEXT NOT NULL
);

CREATE TABLE albums (
    id INTEGER PRIMARY KEY,
    title TEXT NOT NULL,
    year NUMERIC NOT NULL
);

CREATE TABLE songs (
    id INTEGER PRIMARY KEY,
    artist_id INTEGER,
    title TEXT NOT NULL,
    release_year NUMERIC,
    lyric TEXT,
    BPM NUMERIC NOT NULL,
    FOREIGN KEY (artist_id) REFERENCES artists(id)
);

CREATE TABLE playlists (
    id INTEGER PRIMARY KEY,
    user_id INTEGER,
    title TEXT DEFAULT 'Untitled',
    FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE spatials (
    id INTEGER PRIMARY KEY,
    song_id INTEGER,
    support INTEGER CHECK(support IN (0, 1)) DEFAULT 0,
    FOREIGN KEY (song_id) REFERENCES songs(id)
);

CREATE TABLE playlist_songs (
    id INTEGER PRIMARY KEY,
    playlist_id INTEGER,
    song_id INTEGER,
    FOREIGN KEY (playlist_id) REFERENCES playlists(id),
    FOREIGN KEY (song_id) REFERENCES songs(id)
);

CREATE TABLE album_songs (
    id INTEGER PRIMARY KEY,
    album_id INTEGER,
    song_id INTEGER,
    FOREIGN KEY (album_id) REFERENCES albums(id),
    FOREIGN KEY (song_id) REFERENCES songs(id)
);

CREATE TABLE song_histories (
    id INTEGER PRIMARY KEY,
    user_id INTEGER,
    song_id INTEGER,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (song_id) REFERENCES songs(id)
);

CREATE TABLE genres (
    id INTEGER PRIMARY KEY,
    type TEXT NOT NULL
);

CREATE TABLE genre_songs (
    id INTEGER PRIMARY KEY,
    song_id INTEGER,
    genre_id INTEGER,
    FOREIGN KEY (song_id) REFERENCES songs(id),
    FOREIGN KEY (genre_id) REFERENCES genres(id)
);


-- INPUT DATA TO THE CREATED TABLES

INSERT INTO users (id, username, passwords) VALUES
(1, 'harvestwalukow', '482c811da5d5b4bc6d497ffa98491e38'),
(2, 'babyj', '7c90f2dc82aa5dd4501132f6d074a53a'),
(3, 'aloy', '556f53d340d94083cc42f3f007cdab4a'),
(4, 'alexoconnor', 'dd40690c9fbd2fb846aa6e9283b1d7e5'),
(5, 'danielsesahh', '7dbb958d44114d60800884a268d0ec05'),
(6, 'jazzycat', 'fa6f27bd733e1e0fddc8f9915c3b9e77'),
(7, 'popfanatic', '942a82ff25b3ac3b8cebd1070db3d30f'),
(8, 'lutfianjay', 'aad43f8dd3eaa64d26ac8b08b3cf1c1a'),
(9, 'classicvibes', '129dc3398a4139c05f2e944c8b7bbd0b'),
(10, 'djapes', '29a36a4cc1bc487845aa5c1f15a1fc93');

INSERT INTO genres (type) VALUES
('Acoustic'),
('Acoustic Guitar'),
('Adult Alternative'),
('Adult Contemporary'),
('Adult Urban Contemporary'),
('African Music'),
('Afrikaans'),
('Afro-Beat'),
('Afro-Pop'),
('Alt Country'),
('Alt Rock'),
('Alternative'),
('Alternative Metal'),
('Alternativo en Español'),
('Ambient'),
('Americana'),
('Anime'),
('Arabesque'),
('Arabic'),
('Arabic Pop'),
('Arena Rock'),
('Aussie Hip-Hop/Rap'),
('Australian'),
('Austrian'),
('Avant-Garde Jazz'),
('Axé'),
('Bachata'),
('Baile Funk'),
('Bakersfield Sound'),
('Banda'),
('Baroque Era'),
('Bashment'),
('Bass'),
('Bebop'),
('Belgian'),
('Big Band'),
('Black Metal'),
('Blackgaze'),
('Bluegrass'),
('Blues'),
('Boleros'),
('Bollywood'),
('Bossa Nova'),
('Brazilian'),
('Breakbeat'),
('British'),
('British Invasion'),
('British Metal'),
('Britpop'),
('C-Pop'),
('Calypso'),
('Canadian'),
('Cantautori'),
('Cantopop'),
('Caribbean'),
('Celtic'),
('Chamber Music'),
('Chicago Blues'),
('Chillwave'),
('Chinese'),
('Chinese Alt'),
('Chinese Hip-Hop'),
('Chinese Rock'),
('Choral'),
('Christian'),
('Christian Country'),
('Christian Pop'),
('Christian Rap'),
('Christian Rock'),
('Classic Blues'),
('Classic Country'),
('Classic Metal'),
('Classic Rock'),
('Classic Singer/Songwriter'),
('Classical'),
('Classical Guitar'),
('Coffee Shop'),
('College Rock'),
('Comedy'),
('Contemporary Blues'),
('Contemporary Classical'),
('Contemporary Gospel'),
('Contemporary Jazz'),
('Corridos'),
('Country Rock'),
('Country'),
('Countrypolitan'),
('Crunk'),
('Cuban'),
('Cubaton'),
('Cumbia'),
('Dance'),
('Dancehall'),
('Dangdut'),
('Danish'),
('DarkWave'),
('Death Metal'),
('Deathcore'),
('Deep House'),
('Delta Blues'),
('Deutscher Streetrap'),
('Deutschpop'),
('Devotional & Spiritual'),
('Dirty South'),
('Disco'),
('Disney'),
('Dixieland'),
('Doo Wop'),
('Doom'),
('Downtempo'),
('Dub'),
('Dubstep'),
('Duranguense'),
('Dutch'),
('Dutch Pop'),
('East Coast'),
('Easy Listening'),
('Egyptian Pop'),
('Electric Blues'),
('Electro'),
('Electronic'),
('Electronica'),
('EMO'),
('Enka'),
('Experimental'),
('Extreme Metal'),
('Fado'),
('Farsi'),
('Filipino'),
('Finnish'),
('Flamenco'),
('Folk'),
('Folk-Rock'),
('Forró'),
('Freestyle'),
('French'),
('French Hip-Hop/Rap'),
('French Pop'),
('French Variété'),
('Funk'),
('Fusion Jazz'),
('Gangsta Rap'),
('Garage'),
('German'),
('German Folk'),
('Ghazals'),
('Glam Rock'),
('Golden Age'),
('Gospel'),
('Goth'),
('Grime'),
('Grindcore'),
('Grunge'),
('Hair Metal'),
('Halk'),
('Hanukkah'),
('Hard Bop'),
('Hard Rock'),
('Hardcore Punk'),
('Hawaiian'),
('Hindi'),
('Hip-Hop en Espańol'),
('Hip-Hop/Rap'),
('Hip-Hop'),
('Hip-Hop/Rap Italiano'),
('Holiday'),
('Honky Tonk'),
('Hörspiele'),
('House'),
('Hyphy'),
('IDM'),
('Indian'),
('Indian Classical'),
('Indian Folk'),
('Indian Pop'),
('Indie'),
('Indie Dance'),
('Indie en Espańol'),
('Indie Pop'),
('Indie R&B'),
('Indie Rock'),
('Indonesian Music'),
('Industrial Metal'),
('Inspirational'),
('Instrumental'),
('Irish'),
('Israeli'),
('Israeli Alternative'),
('Israeli Pop'),
('Israeli Rock'),
('Italian'),
('J-Hip-Hop'),
('J-Pop'),
('J-R&B'),
('J-Rock'),
('Jam Bands'),
('Japanese'),
('Jazz'),
('Jazz Vocal'),
('Jungle'),
('K Hip-Hop'),
('K Rap'),
('K-Indie'),
('K-Pop'),
('K-R&B'),
('K-Rock'),
('Kannada'),
('Karaoke'),
('Kayokyoku'),
('Khaleeji'),
('Khaleeji Pop'),
('Khaleeji Tarab'),
('Kids & Family'),
('Korean'),
('Kwanzaa'),
('Latin Jazz'),
('Latino'),
('Levant Pop'),
('Lounge'),
('Lovers Rock'),
('Lullabies'),
('Malayalam'),
('Malaysian Music'),
('Malaysian Pop'),
('Mandopop'),
('Marathi'),
('Mariachi'),
('Memphis Soul'),
('Merengue'),
('Metal'),
('Metalcore'),
('Mexican'),
('Minimalism'),
('Mizrahi'),
('Mod'),
('Modern Dancehall'),
('Modern Era'),
('Motown'),
('MPB'),
('Música Mexicana'),
('Música Religios'),
('Musicals'),
('Musique Francophone'),
('Muzak'),
('Nature'),
('Neo-Soul'),
('New Age'),
('New Jack Swing'),
('New Romantic'),
('New Wave'),
('Norteño'),
('Norwegian'),
('Nu Metal'),
('Nueva Canción'),
('Nursery Rhymes'),
('Old School'),
('Oldies'),
('Opera'),
('Orchestral'),
('Outlaw Country'),
('Pagode'),
('Piano'),
('Pinoy Pop'),
('Polka'),
('Pop'),
('Pop in Portuguese'),
('Pop Italiano'),
('Pop Latino'),
('Pop Punk'),
('Pop Rock'),
('Portugeuse'),
('Post-Grunge'),
('Post-Punk'),
('Post-Rock'),
('Power Pop'),
('Praise & Worship'),
('Prog-Rock'),
('Progressive House'),
('Psych Rock'),
('Punjabi'),
('Punk'),
('Quebec'),
('Quiet Storm'),
('R&B'),
('Ragtime'),
('Rancheras'),
('Rap'),
('Rave'),
('Reggae'),
('Reggaeton'),
('Regional Indian'),
('Relaxation'),
('Renaissance'),
('Requinto'),
('Rock'),
('Rock in Portuguese'),
('Rock en Español'),
('Rockabilly'),
('Romantic Era'),
('Roots Reggae'),
('Roots Rock'),
('Russian'),
('Russian Alternative'),
('Russian Chanson'),
('Russian Hip-Hop'),
('Russian Pop'),
('Russian Rock'),
('Salsa'),
('Samba'),
('Sanat'),
('Saxophone'),
('Schlager'),
('Scores'),
('Scottish'),
('Sertanejo'),
('Shoegaze'),
('Singer/Songwriter'),
('Ska'),
('Sludge'),
('Smooth Jazz'),
('Soca'),
('Soft Rock'),
('Son Jarocho'),
('Sonidero'),
('Soul'),
('Soul Jazz'),
('Southern Gospel'),
('Southern Rock'),
('South American'),
('Spanish'),
('Stage and Screen'),
('Standards'),
('Stoner Rock'),
('Strings'),
('Sufi & Ghazals'),
('Surf'),
('Swiss'),
('Synth-Pop'),
('Tai-Pop'),
('Tamil'),
('Tango'),
('Tarab'),
('Techno'),
('Teen Pop'),
('Telugu'),
('Thai Music'),
('Thai Pop'),
('Third Wave Ska'),
('Thrash Metal'),
('Tololoche'),
('Traditional Bluegrass'),
('Traditional Country'),
('Traditional Folk'),
('Trance'),
('Trap'),
('Trap Latino'),
('Tropical House'),
('Trova'),
('Turkish'),
('UK Garage'),
('UK Hip-Hop/Rap'),
('Underground Hip-Hop/Rap'),
('Urbano Latino'),
('Vallenato'),
('Vietnamese'),
('West Coast'),
('Worldbeat'),
('Yacht Rock'),
('Christmas'),
('Halloween'),
('Children''s Music'),
('Fitness & Workout'),
('Soundtrack'),
('Spoken Word'),
('Vocal'),
('Americana'),
('Christian & Gospel'),
('Música Tropical'),
('Rock Y Alternativo'),
('Soul/Funk'),
('World');

INSERT INTO artists (id, first_name, last_name, nationality) VALUES
(1, 'Michael', 'Jackson', 'United States'),
(2, 'Queen', NULL, 'United Kingdom'),
(3, 'The Beatles', NULL, 'United Kingdom'),
(4, 'Taylor', 'Swift', 'United States'),
(5, 'Ed', 'Sheeran', 'United Kingdom'),
(6, 'Beyoncé', NULL, 'United States'),
(7, 'Kendrick', 'Lamar', 'United States'),
(8, 'BTS', NULL, 'South Korea'),
(9, 'Coldplay', NULL, 'United Kingdom'),
(10, 'Rihanna', NULL, 'Barbados');

INSERT INTO songs (id, artist_id, title, release_year, lyric, BPM) VALUES
(1, 1, 'Billie Jean', 1982, 'She was more like a beauty queen from a movie scene', 117),
(2, 1, 'Beat It', 1982, 'They told him don''t you ever come around here', 139),
(3, 2, 'Bohemian Rhapsody', 1975, 'Is this the real life? Is this just fantasy?', 72),
(4, 2, 'You''re My Best Friend', 1975, 'Ooh, you make me live', 120),
(5, 3, 'Come Together', 1969, 'Here come old flat top, he come groovin'' up slowly', 83),
(6, 3, 'Here Comes the Sun', 1969, 'Here comes the sun, doo-doo-doo-doo', 129),
(7, 4, 'Blank Space', 2014, 'Nice to meet you, where you been?', 96),
(8, 4, 'Style', 2014, 'Midnight, you come and pick me up, no headlights', 95),
(9, 5, 'Shape of You', 2017, 'The club isn''t the best place to find a lover', 96),
(10, 5, 'Castle on the Hill', 2017, 'When I was six years old I broke my leg', 135),
(11, 6, 'Formation', 2016, 'Okay, okay, ladies, now let''s get in formation', 122),
(12, 7, 'HUMBLE.', 2017, 'Sit down, be humble', 150),
(13, 8, 'IDOL', 2018, 'You can call me artist, you can call me idol', 126),
(14, 9, 'The Scientist', 2002, 'Come up to meet you, tell you I''m sorry', 146),
(15, 10, 'Needed Me', 2016, 'You needed me, ooh', 111);

INSERT INTO albums (id, title, year) VALUES
(1, 'Thriller', 1982),
(2, 'A Night at the Opera', 1975),
(3, 'Abbey Road', 1969),
(4, '1989', 2014),
(5, '÷ (Divide)', 2017),
(6, 'Lemonade', 2016),
(7, 'DAMN.', 2017),
(8, 'Love Yourself: Answer', 2018),
(9, 'A Rush of Blood to the Head', 2002),
(10, 'Anti', 2016);

INSERT INTO playlists (id, user_id, title) VALUES
(1, 1, 'Morning commute'),
(2, 2, 'Workout Beats'),
(3, 3, 'Focus Flow'),
(4, 4, 'Throwback Party'),
(5, 5, 'Indie Chill'),
(6, 6, 'Road Trip Anthems'),
(7, 7, 'Top Hits Now'),
(8, 8, 'Classic Rock Revisited'),
(9, 9, 'Late Night Vibes'),
(10, 10, 'Study Session');

INSERT INTO spatials (id, song_id, support) VALUES
(1, 1, 1),
(2, 2, 0),
(3, 3, 1),
(4, 4, 0),
(5, 5, 1),
(6, 6, 0),
(7, 7, 1),
(8, 8, 0),
(9, 9, 1),
(10, 10, 1);

INSERT INTO playlist_songs (id, playlist_id, song_id) VALUES
(1, 1, 1),
(2, 1, 9),
(3, 1, 14),
(4, 2, 2),
(5, 2, 7),
(6, 2, 12),
(7, 3, 6),
(8, 3, 10),
(9, 4, 3),
(10, 4, 5),
(11, 5, 14),
(12, 6, 4),
(13, 6, 10),
(14, 7, 8),
(15, 7, 13),
(16, 7, 15),
(17, 8, 3),
(18, 8, 5),
(19, 9, 1),
(20, 9, 11),
(21, 10, 6),
(22, 10, 14);

INSERT INTO album_songs (id, album_id, song_id) VALUES
(1, 1, 1),
(2, 1, 2),
(3, 2, 3),
(4, 2, 4),
(5, 3, 5),
(6, 3, 6),
(7, 4, 7),
(8, 4, 8),
(9, 5, 9),
(10, 5, 10),
(11, 6, 11),
(12, 7, 12),
(13, 8, 13),
(14, 9, 14),
(15, 10, 15);

INSERT INTO song_histories (id, user_id, song_id) VALUES
(1, 1, 1),
(2, 1, 3),
(3, 1, 9),
(4, 2, 2),
(5, 2, 7),
(6, 3, 12),
(7, 3, 13),
(8, 4, 5),
(9, 4, 6),
(10, 5, 14),
(11, 5, 10),
(12, 6, 11),
(13, 6, 15),
(14, 7, 4),
(15, 8, 8),
(16, 9, 1),
(17, 10, 3);

INSERT INTO genre_songs (song_id, genre_id) VALUES
(1, 270),
(1, 283),
(1, 148),
(2, 270),
(2, 294),
(3, 294),
(3, 277),
(3, 165),
(4, 294),
(4, 272),
(5, 294),
(5, 41),
(6, 137),
(6, 270),
(7, 270),
(7, 332),
(8, 270),
(8, 332),
(9, 270),
(9, 96),
(10, 270),
(10, 136),
(11, 283),
(11, 174),
(12, 174),
(13, 220),
(13, 270),
(14, 11),
(14, 272),
(15, 283),
(15, 270);


-- CREATE VIEW

CREATE VIEW "spatial_audio_songs" AS
SELECT * FROM songs WHERE id IN (
    SELECT song_id FROM spatials WHERE support = 1
);
